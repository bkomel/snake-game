!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n=function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="RIGHT"),this._marked=!1,this._x=t,this._y=e,this._direction=i}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},enumerable:!1,configurable:!0}),t}(),o=function(){function t(){this._length=3,this._direction=["UP","DOWN","LEFT","RIGHT"][Math.floor(4*Math.random())],this._headPosition=new n(Math.floor(Math.random()*(20-2*this._length)+this._length),Math.floor(Math.random()*(20-2*this._length)+this._length),this._direction)}return Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(t){this._length=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headPosition",{get:function(){return this._headPosition},set:function(t){this._headPosition=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tailPosition",{get:function(){return this._tailPosition},set:function(t){this._tailPosition=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=t},enumerable:!1,configurable:!0}),t}(),r=function(){function t(t){this._playgroundSize=20,this._playgroundDiv=document.getElementById("playground"),this._fields=Array(20).fill(0).map((function(){return Array(20).fill(0)})),this._snake=t,console.log(this._fields)}return t.prototype.drawPlayground=function(){var t=document.createElement("table"),e=document.createElement("tbody");for(var i in this._fields){var n=document.createElement("tr");for(var o in this._fields[i]){var r=document.createElement("td");r.setAttribute("style","height: 20px; width: 20px; background-color: silver;"),r.setAttribute("id",o+"-"+i),n.appendChild(r)}e.appendChild(n)}t.appendChild(e),t.setAttribute("style","margin: 0 auto; border: 2px solid"),this._playgroundDiv.appendChild(t)},t.prototype.markField=function(t,e){document.getElementById(t.x.toString()+"-"+t.y.toString()).setAttribute("style","height: 20px; width: 20px; background-color: "+e)},t.prototype.drawSnake=function(){var t,e,i,o,r=this._snake.headPosition;this.markField(r,"blue"),this._fields[r.y][r.x]=this._snake.direction;for(var s=1;s<this._snake.length;s++)e=(t=this.getCoordinateShiftFunctions(this._snake.direction,!0,s))[0],i=t[1],o=new n(e(r.x),i(r.y),this._snake.direction),this.markField(o,"black"),this._fields[o.y][o.x]=this._snake.direction;this._snake.tailPosition=o},t.prototype.drawFood=function(){},t.prototype.getCoordinateShiftFunctions=function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=1),i=e?-1*i:i,"LEFT"===t||"RIGHT"===t?["LEFT"===t?function(t){return t-i}:function(t){return t+i},function(t){return t}]:"UP"===t||"DOWN"===t?[function(t){return t},"UP"===t?function(t){return t-i}:function(t){return t+i}]:void 0},t.prototype.moveSnake=function(){var t,e,i=this._snake.tailPosition;this._fields[i.y][i.x]=0;var o=this.getCoordinateShiftFunctions(i.direction),r=o[0],s=o[1],a=[r(i.x),s(i.y)],u=a[0],c=a[1];this._snake.tailPosition=new n(u,c,this._fields[c][u]);var d=this._snake.headPosition;this._fields[d.y][d.x]=this._snake.direction,r=(t=this.getCoordinateShiftFunctions(this._snake.direction))[0],s=t[1],u=(e=[r(d.x),s(d.y)])[0],c=e[1],this.checkBorders(u,c),this._snake.headPosition=new n(u,c,this._snake.direction),this.markField(i,"silver"),this.markField(d,"black"),this.markField(this._snake.headPosition,"blue")},t.prototype.checkBorders=function(t,e){if(t<0||t>this._playgroundSize-1||e<0||e>this._playgroundSize-1)throw new Error("Out of borders")},t}(),s=function(){function t(t){this._timeSlicePeriod=60,this._gameRunning=!0,this._playground=t}return t.prototype.start=function(){this._gameRunning=!0},t.prototype.pause=function(){this._gameRunning=!1},t.prototype.reset=function(){this._gameRunning=!1},t.prototype.gameover=function(){this._gameRunning=!1},Object.defineProperty(t.prototype,"timeSlicePeriod",{get:function(){return this._timeSlicePeriod},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gameRunning",{get:function(){return this._gameRunning},enumerable:!1,configurable:!0}),t.prototype.timeSlice=function(){if(this._gameRunning)try{this._playground.moveSnake()}catch(t){this.pause()}},t}(),a=(new o,new o),u=new r(a),c=new s(u);u.drawPlayground(),u.drawSnake(),setInterval((function(){c.timeSlice(),console.log("Snake: headPosition: x:"+a.headPosition.x+" y:"+a.headPosition.y+", tailPosition: x:"+a.tailPosition.x+", y:"+a.tailPosition.y+", direction: "+a.direction+", ")}),c.timeSlicePeriod)}]);